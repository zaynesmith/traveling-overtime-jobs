generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String            @id @default(cuid())
  email            String            @unique
  passwordHash     String
  role             String            @default("jobseeker")
  createdAt        DateTime          @default(now()) @map("created_at")
  updatedAt        DateTime          @updatedAt @map("updated_at")

  employerProfile  EmployerProfile?
  jobseekerProfile JobseekerProfile?

  @@map("user")
}

model EmployerProfile {
  id          String   @id @default(cuid())
  address1    String
  address2    String?
  city        String
  companyName String
  completedAt DateTime?
  firstName   String
  lastName    String
  location    String?
  mobilePhone String?
  notes       String?
  officePhone String?
  phone       String
  state       String
  timezone    String?
  userId      String   @unique
  website     String?
  zip         String

  user        User     @relation(fields: [userId], references: [id])

  @@map("employerprofile")
}

model JobseekerProfile {
  id        String  @id @default(cuid())
  address1  String?
  address2  String?
  city      String?
  email     String?
  firstName String?
  lastName  String?
  resumeUrl String?
  state     String?
  trade     String?
  userId    String  @unique
  zip       String?

  user      User    @relation(fields: [userId], references: [id])

  @@map("jobseekerprofile")
}
