generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String            @id @default(uuid()) @db.Uuid
  email            String            @unique
  passwordHash     String            @map("passwordhash")
  role             String            @default("jobseeker")
  createdAt        DateTime          @default(now()) @map("createdat")
  updatedAt        DateTime          @default(now()) @map("updatedat")

  employerProfile  EmployerProfile?
  jobseekerProfile JobseekerProfile?

  @@map("user")
}

model EmployerProfile {
  id          String  @id @default(uuid()) @db.Uuid
  companyName String
  officePhone String?
  mobilePhone String?
  address1    String?
  address2    String?
  city        String?
  state       String?
  zip         String?
  website     String?
  timezone    String?
  userId      String  @unique @db.Uuid

  user        User     @relation(fields: [userId], references: [id])

  @@map("employerprofile")
}

model JobseekerProfile {
  id        String  @id @default(uuid()) @db.Uuid
  firstName String?
  lastName  String?
  email     String?
  address1  String?
  address2  String?
  city      String?
  state     String?
  zip       String?
  trade     String?
  resumeUrl String?
  userId    String  @unique @db.Uuid

  user      User    @relation(fields: [userId], references: [id])

  @@map("jobseekerprofile")
}
