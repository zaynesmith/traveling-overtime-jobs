generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String            @id @default(cuid())
  email            String            @unique
  passwordHash     String
  role             String            @default("jobseeker") // "jobseeker" or "employer"
  createdAt        DateTime          @default(now())
  updatedAt        DateTime          @updatedAt

  employerProfile  EmployerProfile?
  jobseekerProfile JobseekerProfile?
}

model EmployerProfile {
  id          String    @id @default(cuid())
  companyName String
  firstName   String
  lastName    String
  phone       String
  address1    String
  address2    String?
  city        String
  state       String
  zip         String
  officePhone String?
  mobilePhone String?
  website     String?
  timezone    String?
  location    String?
  notes       String?
  completedAt DateTime?
  userId      String    @unique
  user        User      @relation(fields: [userId], references: [id])
}

model JobseekerProfile {
  id        String   @id @default(cuid())
  firstName String?
  lastName  String?
  email     String?   // optional since User already has email
  address1  String?
  address2  String?
  city      String?
  state     String?
  zip       String?
  trade     String?   // dropdown selection
  resumeUrl String?   // placeholder for resume upload
  userId    String    @unique
  user      User      @relation(fields: [userId], references: [id])
}
